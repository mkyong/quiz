/* src/styles/styles.css */
@reference "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* ===== Layout & text ===== */
.quiz-layout { @apply w-full max-w-screen-lg mx-auto; }
.quiz-bg { @apply bg-neutral-50 dark:bg-neutral-900; }
.quiz-title { @apply text-2xl md:text-3xl font-bold text-neutral-900 dark:text-neutral-100; }
.quiz-text { @apply text-base text-neutral-800 dark:text-neutral-100; }
.quiz-muted { @apply text-sm text-neutral-500 dark:text-neutral-400; }
.quiz-flex { @apply flex justify-between items-center; }

/* ===== Generic container (base) ===== */
@utility quiz-box-base {
    @apply bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-700 p-4; 
}

.quiz-box { @apply quiz-box-base;}
.quiz-error-box   { @apply quiz-box-base border-red-600   bg-red-50   text-red-800   dark:border-red-500   dark:bg-red-950   dark:text-red-200; }
.quiz-error-text  { @apply text-red-700 dark:text-red-300 font-semibold; }

.quiz-warning-box { @apply quiz-box-base border-yellow-500 bg-yellow-50 text-yellow-900 dark:border-yellow-400 dark:bg-yellow-950 dark:text-yellow-100; }
.quiz-warning-text{ @apply text-yellow-800 dark:text-yellow-200 font-semibold; }

.quiz-feedback-box{ @apply quiz-box-base border-green-600 bg-green-50 text-green-900 dark:border-green-500 dark:bg-green-950 dark:text-green-100; }
.quiz-feedback-text{ @apply text-green-800 dark:text-green-200 font-semibold; }

/* ===== Inputs (real utility) ===== */
.quiz-input {
  @apply w-full rounded-xl px-3 py-2 transition
         text-neutral-900 placeholder-neutral-400
         bg-neutral-100 border border-neutral-300
         focus:outline-none focus:ring-2 focus:ring-blue-500
         dark:text-neutral-100 dark:placeholder-neutral-500
         dark:bg-neutral-800 dark:border-neutral-700
         dark:focus:ring-blue-400;
}

/* Input states */
.quiz-input:hover { @apply border-neutral-400 dark:border-neutral-500; }
.quiz-input:disabled { @apply opacity-60 cursor-not-allowed; }
.quiz-input[aria-invalid="true"] { @apply border-red-600 focus:ring-red-500 dark:border-red-500 dark:focus:ring-red-400; }

/* Inputs inside a card contrast tweak */
.quiz-box .quiz-input { @apply bg-neutral-50 border-neutral-300 dark:bg-neutral-900 dark:border-neutral-600; }

/* Textarea (inline, don’t @apply quiz-input inside CSS) */
.quiz-textarea {
  @apply w-full rounded-xl px-3 py-2 transition
         text-neutral-900 placeholder-neutral-400
         bg-neutral-100 border border-neutral-300
         focus:outline-none focus:ring-2 focus:ring-blue-500
         dark:text-neutral-100 dark:placeholder-neutral-500
         dark:bg-neutral-800 dark:border-neutral-700
         dark:focus:ring-blue-400
         min-h-[100px] resize-y font-mono;
}


/* ===== Buttons ===== */
/* Base button as utility */
@utility quiz-btn {
  @apply rounded-xl px-4 py-2 cursor-pointer font-semibold transition focus:outline-none focus:ring-2 focus:ring-blue-500;
}

.quiz-btn-primary { @apply quiz-btn bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600; }
.quiz-btn-success { @apply quiz-btn bg-green-600 text-white hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600; }
.quiz-btn-neutral { @apply quiz-btn bg-neutral-300 text-neutral-900 hover:bg-neutral-400 dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700; }
.quiz-btn-danger  { @apply quiz-btn bg-red-600 text-white hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600; }

/* ===== Radios / Checkboxes ===== */
.quiz-radio-label { @apply flex items-center gap-2 cursor-pointer rounded px-3 py-2 border border-neutral-300 dark:border-neutral-700 transition hover:bg-blue-50 dark:hover:bg-blue-900; }
.quiz-radio-input { @apply accent-blue-600 dark:accent-blue-400; }
.quiz-radio-input:checked { @apply accent-green-600 dark:accent-green-400; }
.quiz-checkbox-input { @apply accent-blue-600 dark:accent-blue-400; }

/* ===== Options ===== */
.quiz-option {
  @apply flex items-center gap-2 p-2 rounded-xl border cursor-pointer transition
         border-neutral-300 dark:border-neutral-700
         bg-white dark:bg-neutral-800
         hover:bg-blue-50 dark:hover:bg-blue-900
         hover:border-blue-400 dark:hover:border-blue-500;
}
.quiz-option-no-hover {
  @apply flex items-center gap-2 p-2 rounded-xl border transition
         border-neutral-300 dark:border-neutral-700
         bg-white dark:bg-neutral-800;
}
.quiz-option-selected { @apply border-2 border-blue-600 dark:border-blue-400 bg-blue-50 dark:bg-blue-900 shadow-sm; }
.quiz-option-correct  { @apply border-2 border-green-600 dark:border-green-400 bg-green-50 dark:bg-green-900 text-green-900 dark:text-green-200 font-semibold shadow; }
.quiz-option-error    { @apply border-2 border-red-600 dark:border-red-500 bg-red-50 dark:bg-red-900 text-red-900 dark:text-red-200 font-semibold shadow; }
.quiz-option-disabled { @apply opacity-60 cursor-not-allowed; }
.quiz-option-letter { @apply font-mono w-5 text-neutral-900 dark:text-neutral-100; }
.quiz-option-text   { @apply flex-1 text-neutral-900 dark:text-neutral-100; }

/* Explanation */
.quiz-explanation { @apply mt-3 rounded-xl bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 px-4 py-2 text-base; }

/* Icon buttons */
.quiz-icon-btn {
  @apply inline-flex items-center justify-center rounded-full
         border border-neutral-300 dark:border-neutral-700
         bg-white dark:bg-neutral-800
         hover:bg-neutral-100 dark:hover:bg-neutral-700
         focus:outline-none focus:ring-2 focus:ring-blue-500
         transition h-8 w-8;
}
.quiz-icon-btn-danger { @apply hover:bg-red-50 dark:hover:bg-red-950 hover:border-red-500; }

/* Chips */
@utility quiz-chip { @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold; }
.quiz-chip-correct { @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border border-green-300 dark:border-green-700; }

/* Radio wrap */
.quiz-radio-wrap { @apply flex items-center gap-1 px-2 py-1 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900 transition; }

/* Textarea “correct” state */
.quiz-textarea-correct { @apply ring-2 ring-green-500 dark:ring-green-400; }